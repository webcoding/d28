webpackJsonp([17],{"/QY2":function(t,e,o){var i=o("asre");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);o("rjj0")("573c1cf9",i,!0,{})},CzvJ:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-dialog",{attrs:{title:"SKU配置","close-on-click-modal":!1,visible:t.visible},on:{"update:visible":function(e){t.visible=e}}},[o("table",{staticClass:"table table-hover"},[o("tbody",t._l(t.productEntityList,function(e,i){return o("tr",[t._l(t.allSpc,function(i,l){return o("th",t._l(e.keyValue,function(e,l){return o("div",[e.key==i?[t._v("\n            "+t._s(i)+"\n            "),o("el-input",{attrs:{placeholder:i},model:{value:e.value,callback:function(o){t.$set(e,"value",o)},expression:"kv.value"}})]:t._e(),t._v(" "),""==e.key&&0==l?[t._v("\n            "+t._s(i)+"\n            "),o("el-input",{attrs:{placeholder:i},model:{value:e.value,callback:function(o){t.$set(e,"value",o)},expression:"kv.value"}})]:t._e()],2)}),0)}),t._v(" "),o("th",[t._v("\n        序列号：\n        "),o("el-input",{attrs:{placeholder:"商品序列号"},model:{value:e.goodsSn,callback:function(o){t.$set(e,"goodsSn",o)},expression:"productEntity.goodsSn"}})],1),t._v(" "),o("th",[t._v("\n        库存：\n        "),o("el-input",{attrs:{placeholder:"商品库存"},model:{value:e.goodsNumber,callback:function(o){t.$set(e,"goodsNumber",o)},expression:"productEntity.goodsNumber"}})],1),t._v(" "),o("th",[t._v("\n        零售价格：\n        "),o("el-input",{attrs:{placeholder:"零售价格"},model:{value:e.retailPrice,callback:function(o){t.$set(e,"retailPrice",o)},expression:"productEntity.retailPrice"}})],1),t._v(" "),o("th",[t._v("\n        市场价格：\n        "),o("el-input",{attrs:{placeholder:"市场价格"},model:{value:e.marketPrice,callback:function(o){t.$set(e,"marketPrice",o)},expression:"productEntity.marketPrice"}})],1),t._v(" "),o("th",[0==i?o("el-button",{attrs:{type:"warning",icon:"el-icon-plus",circle:""},on:{click:t.addAttrRow}}):t._e()],1),t._v(" "),o("th",[o("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(e){return t.delAttrRow(i)}}})],1)],2)}),0)]),t._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.visible=!1}}},[t._v("取消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.dataFormSubmit()}}},[t._v("确定")])],1)])},staticRenderFns:[]};var l=o("VU/8")({data:function(){return{goodsId:"",visible:!1,allSpc:[],productEntityList:[]}},methods:{init:function(t){var e=this;this.goodsId=t,this.productEntityList=[{keyValue:[{key:"",value:""}],goodsSn:"",goodsId:t,goodsNumber:"",retailPrice:"",marketPrice:""}],this.allSpc=[],this.visible=!0,this.$nextTick(function(){e.$http({url:"/mall/specification/queryAll",method:"get",params:{goodsId:e.goodsId}}).then(function(t){var o=t.data;if(o&&0===o.code)for(var i=0;i<o.list.length;i++){var l=o.list[i].name;e.allSpc.push(l)}}),e.$http({url:"/mall/goodssku/queryByGoodsId/"+e.goodsId,method:"get"}).then(function(t){var o=t.data;if(o&&0===o.code){for(var i=[],l=0;l<e.allSpc.length;l++)i.push({key:e.allSpc[l],value:""});e.productEntityList=o.list,0===e.productEntityList.length&&(e.productEntityList=[{keyValue:i,goodsSn:"",goodsId:e.goodsId,goodsNumber:"",retailPrice:"",marketPrice:""}]);for(var n=0;n<e.productEntityList.length;n++)0===e.productEntityList[n].keyValue.length?e.productEntityList[n].keyValue=i:e.productEntityList[n].keyValue.length!==i.length&&(e.productEntityList[n].keyValue=i)}})})},delAttrRow:function(t){1!==this.productEntityList.length&&this.productEntityList.splice(t,1)},addAttrRow:function(){for(var t=[],e=0;e<this.allSpc.length;e++)t.push({key:this.allSpc[e],value:""});this.productEntityList.push({keyValue:t,goodsSn:"",goodsId:this.goodsId,goodsNumber:"",retailPrice:"",marketPrice:""})},dataFormSubmit:function(){var t=this;this.$http({url:"/mall/goodssku/saveGoodsProduct",method:"post",data:this.productEntityList}).then(function(e){var o=e.data;o&&0===o.code&&(t.$message({message:"操作成功",type:"success",duration:1500}),t.visible=!1,t.$emit("refreshDataList"))})}}},i,!1,function(t){o("/QY2")},null,null);e.default=l.exports},asre:function(t,e,o){(t.exports=o("FZ+f")(!1)).push([t.i,"\n.el-dialog {\n  width: 70%;\n  min-width: 920px;\n}\n",""])}});